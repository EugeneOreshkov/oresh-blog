<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="{{ url_for('static', filename='css/fonts.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/gradients.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">        

        {% if title%}
        <title>{{ title }} - Blog</title>
        {% else %}
        <title>*NAME* - Blog</title>
        {% endif %}

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous">        
        
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-glass fixed-top">             
            <!-- Logo -->            
            <a class="navbar-brand ms-2" href="/">
                    <img src="{{ url_for('static', filename='img/homework.png') }}" alt="homework" height="32">
            </a>            
            
            <div class="container"> 
                <!-- Navbar toggler -->
                <button class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Открыть меню">
                <span class="navbar-toggler-icon"></span>
                </button>               

                {% if current_user.is_authenticated %}                         
                    <a href="{{ url_for('index') }}">Home</a>
                    <a href="{{ url_for('about') }}"> About</a>
                    <a href="{{ url_for('profile.user', username=current_user.username) }}"> Profile</a>
                    <a href="{{ url_for('auth.logout') }}"> Logout</a>
                {% elif request.endpoint == 'auth.register' %}
                    <span>
                        Have you been here before?
                        <a href="{{ url_for('auth.login') }}">Login</a> 
                    </span>                    
                {% elif request.endpoint == 'auth.login' %}
                    <span>
                        For the first time here?
                        <a href="{{ url_for('auth.register') }}">Register</a>     
                    </span>                     
                {% endif %}     
            </div>                       
        </nav>        
        {% with messages = get_flashed_messages() %}
            {% if messages %}
            <ul>
                {% for message in messages %}
                <li>{{ message }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        {% endwith %}
        {% block content %}{% endblock %}

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
                crossorigin="anonymous"></script>                
    </body>
</html>
